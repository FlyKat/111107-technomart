var feedback=document.querySelector(".feedback-btn"),popup=document.querySelector(".modal-content-feedback"),close=document.querySelector(".modal-feedback-close"),form=popup.querySelector("form"),nameUser=popup.querySelector("[name=name]"),emailUser=popup.querySelector("[name=email]"),messageText=popup.querySelector("[name=message]"),storageName=localStorage.getItem("nameUser"),storageEMail=localStorage.getItem("emailUser");feedback.addEventListener("click",function(a){a.preventDefault(),popup.classList.add("modal-feedback-show"),storageName?(nameUser.value=storageName,storageEmail?(emailUser=storageEMail,messageText.focus()):emailUser.focus()):nameUser.focus()}),close.addEventListener("click",function(a){a.preventDefault(),popup.classList.remove("modal-feedback-show"),popup.classList.remove("modal-feedback-error")}),form.addEventListener("submit",function(a){nameUser.value&&emailUser.value&&messageText.value?(localStorage.setItem("name",nameUser.value),localStorage.setItem("email",emailUser.value)):(a.preventDefault(),popup.classList.remove("modal-feedback-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-feedback-error"))}),window.addEventListener("keydown",function(a){27==a.keyCode&&popup.classList.contains("modal-feedback-show")&&(popup.classList.remove("modal-feedback-show"),popup.classList.remove("modal-feedback-error"))});var mapOpen=document.querySelector(".js-open-map"),mapPopup=document.querySelector(".modal-content-map"),mapClose=document.querySelector(".modal-map-close");mapOpen.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.add("modal-map-show")}),mapClose.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.remove("modal-map-show")}),window.addEventListener("keydown",function(a){27==a.keyCode&&mapPopup.classList.contains("modal-map-show")&&mapPopup.classList.remove("modal-map-show")});